% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RcppExports.R
\name{calculate_rolling_support_resistance_fast}
\alias{calculate_rolling_support_resistance_fast}
\title{Calcul rapide des niveaux de support et résistance roulants}
\usage{
calculate_rolling_support_resistance_fast(
  dates,
  opens,
  highs,
  lows,
  closes,
  volumes,
  adjusted,
  window_size = 100L,
  width = 20L
)
}
\arguments{
\item{dates}{CharacterVector : vecteur de dates/horodatages (sous forme de chaîne).}

\item{opens}{NumericVector : prix d'ouverture.}

\item{highs}{NumericVector : prix haut.}

\item{lows}{NumericVector : prix bas.}

\item{closes}{NumericVector : prix de clôture.}

\item{volumes}{NumericVector : volumes.}

\item{adjusted}{NumericVector : prix ajustés utilisés pour détecter min/max (typiquement close ou adjusted).}

\item{window_size}{integer (par défaut 100) : taille de la fenêtre historique (nombre de barres) utilisée pour calculer un support/résistance à chaque pas.}

\item{width}{integer (par défaut 20) : largeur de la petite fenêtre sur laquelle on calcule le min/max centré (doit être >= 1 et <= longueur de la série).}
}
\value{
DataFrame contenant les colonnes : Date, Open, High, Low, Close, Volume, Adjusted, Support, Resistance.
        Support/Resistance contiennent la valeur du niveau trouvé pour la date correspondante (ou NA si introuvable).
}
\description{
Calcule pour chaque pas de temps un niveau de support et de résistance « centré »
sur une petite fenêtre (paramètre `width`) au sein d'une fenêtre historique plus large
(paramètre `window_size`). La fonction recherche, pour chaque fin de fenêtre historique,
le point central d'une petite fenêtre qui correspond au minimum (support) ou au maximum
(résistance) de cette petite fenêtre. Les calculs sont optimisés avec des déques pour
le sliding min/max.
}
\details{
Les vecteurs d'entrée doivent être de même longueur. Les NA dans `adjusted` sont traités
en évitant les comparaisons ; si la valeur du min/max est NA, le résultat pour cette
petite fenêtre sera NA.


- Exécution : la fonction est conçue pour être appelée depuis R après compilation du package.
- Tolérance : une petite tolérance numérique (1e-12) est utilisée pour comparer égalité center == min/max.
- Complexité : la recherche du sliding min/max est linéaire grâce aux déques ; la boucle principale parcourt les étapes historiques.
}
\examples{
\dontrun{
# Exemple R (après compilation et installation du package)
library(hmmTradeR) # remplacer par le nom réel du package
# données fictives
dates <- as.character(Sys.Date() - 9:0)
n <- length(dates)
opens <- runif(n, 99, 101)
highs <- opens + runif(n, 0, 2)
lows  <- opens - runif(n, 0, 2)
closes <- (highs + lows) / 2
volumes <- sample(100:1000, n, replace = TRUE)
adjusted <- closes
# appel
res <- calculate_rolling_support_resistance_fast(dates, opens, highs, lows, closes, volumes, adjusted, window_size = 5, width = 3)
head(res)
}

}
